CREATE DATABASE mywork;

CREATE TABLE tb_estado (
pk_id INT PRIMARY KEY AUTO_INCREMENT,
nome_estado VARCHAR(40) NOT NULL,
UF CHAR(2) NOT NULL
);


CREATE TABLE tb_cidade (
pk_id INT PRIMARY KEY AUTO_INCREMENT,
nome_cidade VARCHAR(40) NOT NULL,
fk_estado INT,
CONSTRAINT FOREIGN KEY (fk_estado) REFERENCES tb_estado(pk_id) ON DELETE SET NULL ON UPDATE CASCADE 
)ENGINE=InnoDB;

CREATE TABLE tb_cliente (
pk_id INT PRIMARY KEY AUTO_INCREMENT,
nome VARCHAR(50) NOT NULL,
data_nascimento DATE NOT NULL,
email VARCHAR(50),
cpf CHAR(14),
senha CHAR(50),
telefone CHAR(15),
celular CHAR(15),
foto CHAR(50),
habilita CHAR(1) NOT NULL,
fk_cidade INT,
codigo VARCHAR(5)
CONSTRAINT FOREIGN KEY (fk_cidade) REFERENCES tb_cidade(pk_id) ON UPDATE CASCADE ON DELETE SET NULL
)ENGINE=InnoDB;

CREATE TABLE tb_prestador (
pk_id INT PRIMARY KEY AUTO_INCREMENT,
nome VARCHAR(50) NOT NULL,
data_nascimento DATE NOT NULL,
email VARCHAR(50),
cpf CHAR(14),
senha CHAR(50) NOT NULL,
telefone CHAR(15),
celular CHAR(15) NOT NULL,
foto CHAR (50),
habilita CHAR(1) NOT NULL,
fk_cidade INT,
codigo VARCHAR(5)
CONSTRAINT FOREIGN KEY (fk_cidade) REFERENCES tb_cidade(pk_id) ON UPDATE CASCADE ON DELETE SET NULL
)ENGINE=InnoDB;

CREATE TABLE tb_servico (
pk_id INT PRIMARY KEY AUTO_INCREMENT,
servicos VARCHAR(50) NOT NULL,
status CHAR(1) NOT NULL,
fk_categoria INT,
CONSTRAINT FOREIGN KEY (fk_categoria) REFERENCES tb_categoria(pk_id) ON UPDATE CASCADE ON DELETE SET NULL
)ENGINE=InnoDB;

CREATE TABLE rl_prestador_servico (
fk_prestador INT,
fk_servico INT,
CONSTRAINT FOREIGN KEY (fk_prestador) REFERENCES tb_prestador(pk_id) ON UPDATE CASCADE ON DELETE SET NULL,
CONSTRAINT FOREIGN KEY (fk_servico) REFERENCES tb_servico(pk_id) ON UPDATE CASCADE ON DELETE SET NULL
)ENGINE=InnoDB;

CREATE TABLE tb_categoria (
pk_id INT PRIMARY KEY AUTO_INCREMENT,
status CHAR(1) NOT NULL,
categoria VARCHAR(50) NOT NULL
foto CHAR(50),
)ENGINE=InnoDB;

CREATE TABLE tb_servico_sugerido (
pk_id INT PRIMARY KEY AUTO_INCREMENT,
tipos_servicos VARCHAR(50) NOT NULL,
categoria VARCHAR(50),
fk_prestador INT,
fk_categoria INT,
CONSTRAINT FOREIGN KEY (fk_categoria) REFERENCES tb_categoria(pk_id) ON UPDATE CASCADE ON DELETE SET NULL,
CONSTRAINT FOREIGN KEY (fk_prestador) REFERENCES tb_prestador(pk_id) ON UPDATE CASCADE ON DELETE SET NULL
)ENGINE=InnoDB;

CREATE TABLE tb_administrador (
pk_id INT PRIMARY KEY AUTO_INCREMENT,
email VARCHAR(50),
senha CHAR(50) NOT NULL,
habilita CHAR(1) NOT NULL,
codigo VARCHAR(5)
)ENGINE=InnoDB;

CREATE TABLE tb_atendimento (
pk_id INT PRIMARY KEY AUTO_INCREMENT,
fk_cliente INT,
fk_prestador INT,
fk_servico INT

PESQUISAR CONSTRAINT deve setar NULL no ON DELETE...


);





